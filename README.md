# AW-WYS

Componente wysiwyg desarrollado en Polymer 3 por Arisman Webs. Este componente te permite crear un editor de texto de forma para añadir a la web. Del mismo modo, va completamente enlazado con los aw-form y es de un uso muy sencillo.

Docs.: <a href="https://arismanwebs.es/docs/recursos-web/polymer-3/webcomponents-wysiwyg-polymer-3">AW-WYS - Arisman Webs</a>




Este componente crea un editor de texto `<i>wysiwyg</i>` para poder introducir texto con formato en la web. Para añadir este campo:<div><br></div><div><div style="color: rgb(187, 187, 187); background-color: rgb(40, 44, 52); &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #abb2bf;">&lt;</span><span style="color: #e06c75;">script</span><span style="color: #abb2bf;"> </span><span style="color: #d19a66;">type</span><span style="color: #abb2bf;">=</span><span style="color: #98c379;">"module"</span><span style="color: #abb2bf;"> </span><span style="color: #d19a66;">src</span><span style="color: #abb2bf;">=</span><span style="color: #98c379;">"/node_modules/aw_wys/aw-wys.js"</span><span style="color: #abb2bf;">&gt;</span><span style="color: #abb2bf;">&lt;</span><span style="color: #abb2bf;">/</span><span style="color: #e06c75;">script</span><span style="color: #abb2bf;">&gt;</span></div><div><span style="color: #abb2bf;">&lt;</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;">&gt;&lt;/</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;">&gt;</span></div></div></div><div><br></div><div><div>Los parámetros que admite el componeten son:</div><div><ul><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">id</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: ID del componente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">name</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Nombre del compoente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">placeholder</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Placeholder del componente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">options</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opciones que queremos disponibles en el editor.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">required</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Si es obligatorio rellenarlo al enviar el formulario.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">novalidate</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Evitar la validación del componente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">validateonchange</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Valida el campo cuando cambia.</span></li></ul></div></div><div><div><b>Añadir opciones al editor</b></div><div><br></div><div>El componente se puede configurar para que muestre las opciones que queramos ordenadas como queramos. Las opciones disponibles son:</div></div><div><div><ul><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">bold</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de poner en negrita.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">italic</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de poner en cursiba.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">underline</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de subrayar el texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">strikeThrough</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de tachar el texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">removeFormat</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de remover el formato.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">justifyLeft</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de alinear el texto a la izquierda.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">justifyCenter</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de alinear el texto al centro.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">justifyRight</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de alinear el texto a la derecha.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">justifyFull</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción de justificar el texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">addLink</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para añadir un enlace.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">addImage</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para añadir una imagen.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">addVideo</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para añadir un vídeo.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">addLine</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para añadir una línea separadora.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">heads</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para añadir cabeceras.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">cut</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para cortar texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">copy</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para copiar texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">paste</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para pegar texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">undo</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para deshacer.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">redo</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para rehacer.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">insertUnorderedList</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción inertar una lista punteada.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">insertOrderedList</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para insertar un alista numerada.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">formatBlock</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para insertar un bloque de texto.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">fontFamily</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para elegirla fuente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">fontSize</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para elegir el tamaño de la fuente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">fontColor</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para elegir color de la fuente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">backColor</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para elegir el color del fondo de la fuente.</span></li><li>`<b style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">code</b><span style="color: var(--aw-wys-color,#333333); (--aw-wys-font-family,&quot;arial&quot;);">`: Opción para ver el código HTML creado.</span></li></ul><div>Por defecto el edito se crea con todas las opciones. Para configurarlas tan solo hay que añadir las opciones que queramos separadas por comas (`<b>,</b>`) y por slash (`<b>|</b>`) para crear bloques entre las opciones.</div></div></div><div><br></div><div><div style="color: rgb(187, 187, 187); background-color: rgb(40, 44, 52); &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><span style="color: #abb2bf;">&lt;</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;"> </span><span style="color: #d19a66;">options</span><span style="color: #abb2bf;">=</span><span style="color: #98c379;">"bold,italic,underline|justifyLeft,justifyCenter,justifyRight"</span><span style="color: #abb2bf;">&gt;&lt;/</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;">&gt;</span></div></div><div><br></div><div>En el ejemplo superior se creará un editor con las opciones de negrita, cursiva, subrayar el texto en un bloque y alinear el texto a la izquierda, centro y derecha en otro bloque.</div><div><br></div><div><div><b>Añadir un value al cargar el editor</b></div><div><br></div><div>Si queremos que el editor tenga un texto desde el inicio, tan solo tenemos que introducirlo en el interio de la etiqueta en lugar de hacer con el atributo `<b>value</b>`:</div></div><div><br></div><div><div style="color: rgb(187, 187, 187); background-color: rgb(40, 44, 52); &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #abb2bf;">&lt;</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;"> </span><span style="color: #d19a66;">name</span><span style="color: #abb2bf;">=</span><span style="color: #98c379;">"textarea"</span><span style="color: #abb2bf;">&gt;</span></div><div>    <span style="color: #abb2bf;">&lt;</span><span style="color: #e06c75;">h1</span><span style="color: #abb2bf;">&gt;</span>Este es el texto por defecto que aparecerá en el editor.<span style="color: #abb2bf;">&lt;/</span><span style="color: #e06c75;">h1</span><span style="color: #abb2bf;">&gt;</span></div><div><span style="color: #abb2bf;">&lt;/</span><span style="color: #e06c75;">aw-wys</span><span style="color: #abb2bf;">&gt;</span></div></div></div><div><br></div><div><div>Subir imágnes desde el editor al servidor.</div><div><br></div><div>Obviamente si queremos añadir imágenes al editor debemos completar cierta configuración para crear una conexión `<i>ftp</i>`. Para ello tendremos que dirigirnos al siguiente archivo: `<i><font color="#3d85c6">/node_modules/aw_wys/scripts/ftp_connect.php</font></i>`. En ese archivo tan solo tenemos que añadir el usuario FTP y la contraseña de conexión si esta es necesaria.</div></div><div><br></div><div><div style="color: rgb(187, 187, 187); background-color: rgb(40, 44, 52); &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #c678dd;">if</span> ( <span style="color: #e06c75;">$_SERVER</span>[<span style="color: #98c379;">'REMOTE_ADDR'</span>] <span style="color: #abb2bf;">==</span> <span style="color: #98c379;">"127.0.0.1"</span> ) {</div><div>    <span style="color: #e06c75;">$c_ftp</span> <span style="color: #abb2bf;">=</span> ftp_connect( <span style="color: #98c379;">"127.0.0.1"</span> );</div><div>    <span style="color: #c678dd;">if</span>( <span style="color: #e06c75;">$c_ftp</span> ) {</div><div>        <span style="color: #e06c75;">$u_ftp</span><span style="color: #abb2bf;">=</span> ftp_login( <span style="color: #e06c75;">$c_ftp</span>, <span style="color: #98c379;">"web_arisman"</span>, <span style="color: #98c379;">""</span> );</div><div>        ftp_pasv( <span style="color: #e06c75;">$c_ftp</span>, <span style="color: #d19a66;">true</span> );</div><div>    }</div><div>} <span style="color: #c678dd;">else</span> {</div><div>    <span style="color: #e06c75;">$c_ftp</span> <span style="color: #abb2bf;">=</span> ftp_connect( <span style="color: #e06c75;">$_SERVER</span>[<span style="color: #98c379;">'SERVER_NAME'</span>] );</div><div>    <span style="color: #c678dd;">if</span>( <span style="color: #e06c75;">$c_ftp</span> ) {</div><div>        <span style="color: #e06c75;">$u_ftp</span><span style="color: #abb2bf;">=</span> ftp_login( <span style="color: #e06c75;">$c_ftp</span>, <span style="color: #98c379;">"usuario_ftp"</span>, <span style="color: #98c379;">"pass_ftp"</span> );</div><div>        ftp_pasv( <span style="color: #e06c75;">$c_ftp</span>, <span style="color: #d19a66;">true</span> );</div><div>    }</div><div>}</div></div></div><div><br></div><div><div>Tan solo hay que cambiar el `usuario_ftp` por el usuario y el `pass_ftp` por la contraseña FTP y ya se podrán subir imágenes del editor.</div><div><br></div><div>Por defecto las imágnes se subirán a la siguiente ruta: `<i><font color="#3d85c6">/img/awwys/galery/</font></i>`. Si queremos cambiar la ruta a la que se suban las imágenes tan solo hay que configurar estas líneas:</div></div><div><br></div><div><div style="color: rgb(187, 187, 187); background-color: rgb(40, 44, 52); &quot;Courier New&quot;, monospace; font-size: 14px; line-height: 19px; white-space: pre;"><div><span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">=</span> <span style="color: #98c379;">""</span>;</div><div><span style="color: #c678dd;">while</span>( <span style="color: #abb2bf;">!</span>file_exists( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"node_modules/aw_wys"</span> )) {</div><div>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.=</span> <span style="color: #98c379;">"../"</span>;</div><div>}</div><br><div><span style="color: #c678dd;">if</span>( <span style="color: #abb2bf;">!</span>file_exists( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img"</span> )) {</div><div>&nbsp;&nbsp;&nbsp;&nbsp;mkdir( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img"</span>, <span style="color: #d19a66;">0777</span> );</div><div>}</div><br><div><span style="color: #c678dd;">if</span>( <span style="color: #abb2bf;">!</span>file_exists( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img/awwys"</span> )) {</div><div>&nbsp;&nbsp;&nbsp;&nbsp;mkdir( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img/awwys"</span>, <span style="color: #d19a66;">0777</span> );</div><div>}</div><br><div><span style="color: #c678dd;">if</span>( <span style="color: #abb2bf;">!</span>file_exists( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img/awwys/galery"</span> )) {</div><div>&nbsp;&nbsp;&nbsp;&nbsp;mkdir( <span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.</span> <span style="color: #98c379;">"img/awwys/galery"</span>, <span style="color: #d19a66;">0777</span> );</div><div>}</div><br><div><span style="color: #e06c75;">$path</span> <span style="color: #abb2bf;">.=</span> <span style="color: #98c379;">"img/awwys/galery/"</span>;</div></div></div><div><br></div>